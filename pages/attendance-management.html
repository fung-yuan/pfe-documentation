<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attendance Management - Documentation</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3a0ca3;
            --accent-color: #4cc9f0;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --info-color: #3498db;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --text-color: #333;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
        }
        
        .page-content {
            max-width: 900px;
            margin: 20px auto;
            padding: 2rem;
            background-color: white;
            box-shadow: var(--box-shadow);
            border-radius: var(--border-radius);
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            font-weight: 600;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        h2 {
            color: var(--dark-color);
            margin: 1.5rem 0 1rem;
            font-weight: 500;
        }

        h3 {
            color: var(--primary-color);
            margin: 1rem 0 0.5rem;
            font-weight: 500;
        }

        .section {
            margin-bottom: 3rem;
            padding: 1.5rem;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .breadcrumb {
            background-color: var(--light-color);
            padding: 0.75rem 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: var(--primary-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .breadcrumb a:hover {
            color: var(--secondary-color);
            text-decoration: underline;
        }

        /* Feature Cards Styling */
        .feature-card {
            display: flex;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 70px;
            height: 70px;
            background-color: var(--accent-color);
            color: white;
            border-radius: 50%;
            margin-right: 1.5rem;
            flex-shrink: 0;
        }

        .feature-content {
            flex: 1;
        }

        /* Code Blocks Styling */
        .code-block {
            margin: 1.5rem 0;
            background-color: #1e293b;
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #0f172a;
            color: white;
            padding: 0.5rem 1rem;
            font-family: monospace;
        }

        .code-title {
            font-weight: 500;
        }

        .code-block pre {
            margin: 0;
            padding: 1rem;
            overflow-x: auto;
        }

        .code-block code {
            color: #e2e8f0;
            font-family: 'Consolas', 'Monaco', monospace;
            line-height: 1.5;
        }

        /* Overview Card */
        .overview-card {
            padding: 1.5rem;
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-top: 1rem;
        }

        .feature-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .chip {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.35rem 0.75rem;
            background-color: var(--accent-color);
            color: white;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 500;
            transition: var(--transition);
        }

        .chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .emoji {
            font-size: 1.2rem;
            margin-right: 0.25rem;
        }

        /* Integration Diagram */
        .integration-diagram {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 2rem 0;
        }

        .central-module {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            margin-bottom: 2rem;
            position: relative;
            z-index: 2;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .module-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .module-name {
            font-weight: 500;
            text-align: center;
            font-size: 0.9rem;
            line-height: 1.2;
        }

        .integration-connections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            width: 100%;
        }

        .integration-module {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: var(--transition);
            position: relative;
        }

        .integration-module:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .integration-module .module-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--accent-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .integration-module .module-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark-color);
        }

        .module-desc {
            font-size: 0.9rem;
            color: #666;
        }

        /* Tech Cards */
        .tech-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .tech-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1.5rem;
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
            transition: var(--transition);
            text-align: center;
        }

        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow);
        }

        .tech-card .tech-icon {
            width: 60px;
            height: 60px;
            margin: 0 0 1rem 0;
        }

        .tech-card .tech-details h3 {
            margin: 0 0 0.5rem 0;
        }

        .tech-card .tech-details p {
            font-size: 0.9rem;
            color: #666;
            margin: 0;
        }

        /* Back Button */
        .back-section {
            margin-top: 3rem;
            text-align: center;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: 500;
            transition: var(--transition);
        }

        .back-button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div class="page-content">
        <h1 class="animate__animated animate__fadeIn"><i class="fas fa-clipboard-check"></i> Attendance Management</h1>
        
        <div class="breadcrumb">
            <a href="../index.html"><i class="fas fa-home"></i> Documentation Home</a> &gt; 
            <a href="index.html"><i class="fas fa-file"></i> Pages</a> &gt; 
            <span><i class="fas fa-clipboard-check"></i> Attendance Management</span>
        </div>
        
        <section class="section animate__animated animate__fadeInUp">
            <h2><i class="fas fa-info-circle"></i> Overview</h2>
            <div class="overview-card">
                <p>
                    <span class="emoji">📋</span> The Attendance Management page is a core component of the Absence Management System, providing
                    interfaces for recording, tracking, and managing student attendance across various courses,
                    classes, and time periods. This system is designed to streamline the attendance tracking process
                    while providing valuable insights into absence patterns.
                </p>
                <div class="feature-chips">
                    <span class="chip"><i class="fas fa-check-circle"></i> Easy Recording</span>
                    <span class="chip"><i class="fas fa-history"></i> History Tracking</span>
                    <span class="chip"><i class="fas fa-calendar-alt"></i> Date Selection</span>
                    <span class="chip"><i class="fas fa-users"></i> Student Management</span>
                    <span class="chip"><i class="fas fa-chart-bar"></i> Analytics</span>
                    <span class="chip"><i class="fas fa-file-export"></i> Exports</span>
                </div>
            </div>
        </section>

        <section class="section animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
            <h2><i class="fas fa-puzzle-piece"></i> Key Components</h2>
            
            <div class="subsection feature-card">
                <div class="feature-icon">
                    <i class="fas fa-user-check fa-2x"></i>
                </div>
                <div class="feature-content">
                    <h3><span class="emoji">✅</span> Attendance Recording Interface</h3>
                    <p>
                        The primary interface allows teachers and administrators to record student attendance quickly and efficiently.
                        The interface displays a class roster with checkboxes for marking students present or absent.
                    </p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title"><i class="fab fa-react"></i> AttendanceManagement.jsx</span>
                        </div>
                        <pre><code class="language-jsx">// Code displayed as text, not rendered HTML
import React, { useState, useEffect } from 'react';
import { Card, CardContent } from "@/components/ui/card";
import { Checkbox } from "@/components/ui/checkbox";
import { Button } from "@/components/ui/button";
import { studentService } from "@/services/studentService";
import attendanceService from "@/services/attendanceService";

const AttendanceManagement = () => {
    const [students, setStudents] = useState([]);
    const [attendanceRecords, setAttendanceRecords] = useState([]);
    
    // Load students for a specific class/department
    const loadStudents = async (departmentId) => {
        const result = await studentService.getStudentsByDepartment(departmentId);
        setStudents(result.data);
    };
    
    // Save attendance records to the database
    const saveAttendance = async () => {
        try {
            await attendanceService.saveBulkAttendanceRecords(attendanceRecords);
            // Success handling
        } catch (error) {
            // Error handling
        }
    };
};</code></pre>
                    </div>
                </div>
            </div>
            
            <div class="subsection feature-card">
                <div class="feature-icon">
                    <i class="fas fa-calendar-alt fa-2x"></i>
                </div>
                <div class="feature-content">
                    <h3><span class="emoji">📅</span> Date Selection and Filtering</h3>
                    <p>
                        The system includes date pickers for selecting attendance periods and advanced filtering options
                        for viewing attendance by department, date range, or specific students.
                    </p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title"><i class="fab fa-react"></i> DatePicker Component Usage</span>
                        </div>
                        <pre><code class="language-jsx">// Date picker implementation in AttendanceManagement.jsx
import { DatePicker } from "@/components/ui/DatePicker";
import { format } from 'date-fns';

// Date selection component
&lt;div className="flex flex-col gap-2"&gt;
    &lt;Label htmlFor="datePicker"&gt;Select Date&lt;/Label&gt;
    &lt;DatePicker
        id="datePicker"
        selectedDate={date}
        onSelect={(newDate) =&gt; setDate(newDate)}
        format="PPP"
    /&gt;
&lt;/div&gt;</code></pre>
                    </div>
                </div>
            </div>

            <div class="subsection feature-card">
                <div class="feature-icon">
                    <i class="fas fa-database fa-2x"></i>
                </div>
                <div class="feature-content">
                    <h3><span class="emoji">💾</span> Data Storage and Retrieval</h3>
                    <p>
                        The system uses RESTful API calls to store and retrieve attendance records, providing
                        a robust data management solution for maintaining attendance history.
                    </p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title"><i class="fab fa-js"></i> attendanceService.js</span>
                        </div>
                        <pre><code class="language-javascript">// Attendance Service Implementation
import axiosInstance from '@/lib/axiosInstance';

const saveAttendance = async (attendanceData) => {
    try {
        const response = await axiosInstance.post(`/attendance/save`, attendanceData);
        return response.data;
    } catch (error) {
        console.error("Error saving attendance:", error);
        throw error;
    }
};

const attendanceService = {
    saveAttendanceRecord: (attendanceRecord) => {
        return axiosInstance.post(`/attendance`, attendanceRecord);
    },
    saveBulkAttendanceRecords: (attendanceRecords) => {
        return axiosInstance.post(`/attendance/bulk`, attendanceRecords);
    },
    getAttendanceRecordById: (id) => {
        return axiosInstance.get(`/attendance/${id}`);
    }
};</code></pre>
                    </div>
                </div>
            </div>
            
            <div class="subsection feature-card">
                <div class="feature-icon">
                    <i class="fas fa-search fa-2x"></i>
                </div>
                <div class="feature-content">
                    <h3><span class="emoji">🔍</span> Advanced Query System</h3>
                    <p>
                        The attendance management system includes a natural language query system for finding students with specific absence patterns, 
                        including those with perfect attendance (zero absences).
                    </p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title"><i class="fab fa-java"></i> Natural Language Query Processing</span>
                        </div>
                        <pre><code class="language-java">// Backend implementation for natural language queries
public List&lt;StudentAbsenceDTO&gt; findStudentsByNaturalLanguageQuery(String query) {
    // Generate database query from natural language
    String jpqlQuery = queryService.generateJPQLFromNaturalLanguage(query);
    
    // Special case handling for zero absence queries
    if (query.toLowerCase().contains("zero absence") || 
        query.toLowerCase().contains("no absence") || 
        query.toLowerCase().contains("perfect attendance")) {
        // Use NOT EXISTS approach for accurate results
        jpqlQuery = "SELECT s FROM Student s WHERE NOT EXISTS "
                  + "(SELECT a FROM Absence a WHERE a.student = s)";
    }
    
    return absenceRepository.executeCustomQuery(jpqlQuery);
}</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section animate__animated animate__fadeInUp" style="animation-delay: 0.4s;">
            <h2><i class="fas fa-plug"></i> Integration with Other Components</h2>
            <p>
                The Attendance Management system integrates with several other components of the application:
            </p>
            
            <div class="integration-diagram">
                <div class="central-module">
                    <div class="module-icon"><i class="fas fa-clipboard-check"></i></div>
                    <div class="module-name">Attendance<br>Management</div>
                </div>
                
                <div class="integration-connections">
                    <div class="integration-module">
                        <div class="module-icon"><i class="fas fa-chart-bar"></i></div>
                        <div class="module-name">Reports System</div>
                        <div class="module-desc">Provides data for absence reports and analytics</div>
                    </div>
                    
                    <div class="integration-module">
                        <div class="module-icon"><i class="fas fa-users"></i></div>
                        <div class="module-name">Student Management</div>
                        <div class="module-desc">Student data for attendance records</div>
                    </div>
                    
                    <div class="integration-module">
                        <div class="module-icon"><i class="fas fa-building"></i></div>
                        <div class="module-name">Department Management</div>
                        <div class="module-desc">Organizes students by department for efficient attendance tracking</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section animate__animated animate__fadeInUp" style="animation-delay: 0.6s;">
            <h2><i class="fas fa-cogs"></i> Implementation Details</h2>
            <p>
                The attendance management feature is implemented using the following technologies and patterns:
            </p>
            
            <div class="tech-cards">
                <div class="tech-card">
                    <div class="tech-icon"><i class="fab fa-react fa-2x"></i></div>
                    <div class="tech-details">
                        <h3>React.js</h3>
                        <p>Used for building the UI components and managing component state</p>
                    </div>
                </div>
                
                <div class="tech-card">
                    <div class="tech-icon"><i class="fas fa-paint-brush fa-2x"></i></div>
                    <div class="tech-details">
                        <h3>Tailwind CSS + shadcn/ui</h3>
                        <p>For styling components like cards, buttons, and form elements</p>
                    </div>
                </div>
                
                <div class="tech-card">
                    <div class="tech-icon"><i class="fas fa-server fa-2x"></i></div>
                    <div class="tech-details">
                        <h3>Axios</h3>
                        <p>For making API requests to the backend server</p>
                    </div>
                </div>
                
                <div class="tech-card">
                    <div class="tech-icon"><i class="fas fa-calendar fa-2x"></i></div>
                    <div class="tech-details">
                        <h3>date-fns</h3>
                        <p>For date formatting and manipulation</p>
                    </div>
                </div>
            </div>
        </section>
        
        <div class="back-section">
            <a href="index.html" class="back-button"><i class="fas fa-arrow-left"></i> Back to Pages</a>
        </div>
    </div>
</body>
</html>
