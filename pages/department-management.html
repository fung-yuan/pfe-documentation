<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Department Management - Documentation</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3949ab;
            --secondary-color: #1a237e;
            --accent-color: #5c6bc0;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --info-color: #3498db;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --text-color: #333;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
        }
        
        .page-content {
            max-width: 900px;
            margin: 20px auto;
            padding: 2rem;
            background-color: white;
            box-shadow: var(--box-shadow);
            border-radius: var(--border-radius);
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            font-weight: 600;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        h2 {
            color: var(--dark-color);
            margin: 1.5rem 0 1rem;
            font-weight: 500;
        }

        h3 {
            color: var(--primary-color);
            margin: 1rem 0 0.5rem;
            font-weight: 500;
        }

        .section {
            margin-bottom: 3rem;
            padding: 1.5rem;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .breadcrumb {
            background-color: var(--light-color);
            padding: 0.75rem 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: var(--primary-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .breadcrumb a:hover {
            color: var(--secondary-color);
            text-decoration: underline;
        }

        /* Feature Cards Styling */
        .feature-card {
            display: flex;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 70px;
            height: 70px;
            background-color: var(--accent-color);
            color: white;
            border-radius: 50%;
            margin-right: 1.5rem;
            flex-shrink: 0;
        }

        .feature-content {
            flex: 1;
        }

        /* Code Blocks Styling */
        .code-block {
            margin: 1.5rem 0;
            background-color: #1e293b;
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #0f172a;
            color: white;
            padding: 0.5rem 1rem;
            font-family: monospace;
        }

        .code-title {
            font-weight: 500;
        }

        .code-block pre {
            margin: 0;
            padding: 1rem;
            overflow-x: auto;
        }

        .code-block code {
            color: #e2e8f0;
            font-family: 'Consolas', 'Monaco', monospace;
            line-height: 1.5;
        }

        /* Overview Card */
        .overview-card {
            padding: 1.5rem;
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-top: 1rem;
        }

        .feature-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .chip {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.35rem 0.75rem;
            background-color: var(--accent-color);
            color: white;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 500;
            transition: var(--transition);
        }

        .chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .emoji {
            font-size: 1.2rem;
            margin-right: 0.25rem;
        }

        /* Department Structure */
        .department-structure {
            margin: 2rem 0;
        }

        .structure-diagram {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 2rem 0;
        }

        .hierarchy {
            width: 100%;
            max-width: 800px;
        }

        .hierarchy-level {
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .hierarchy-item {
            background-color: var(--accent-color);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            margin: 0 0.5rem;
            text-align: center;
            position: relative;
            box-shadow: var(--box-shadow);
        }

        .hierarchy-item::after {
            content: '';
            position: absolute;
            bottom: -1rem;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 1rem;
            background-color: #ccc;
        }

        .hierarchy-level:last-child .hierarchy-item::after {
            display: none;
        }

        .departments-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .department-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 1.5rem;
            text-align: center;
            transition: var(--transition);
        }

        .department-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .department-icon {
            width: 60px;
            height: 60px;
            background-color: var(--accent-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
        }

        .department-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark-color);
        }

        .department-description {
            font-size: 0.9rem;
            color: #666;
        }

        /* Tech Cards */
        .tech-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .tech-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1.5rem;
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
            transition: var(--transition);
            text-align: center;
        }

        .tech-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow);
        }

        .tech-card .tech-icon {
            width: 60px;
            height: 60px;
            margin: 0 0 1rem 0;
        }

        .tech-card .tech-details h3 {
            margin: 0 0 0.5rem 0;
        }

        .tech-card .tech-details p {
            font-size: 0.9rem;
            color: #666;
            margin: 0;
        }

        /* Back Button */
        .back-section {
            margin-top: 3rem;
            text-align: center;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: 500;
            transition: var(--transition);
        }

        .back-button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div class="page-content">
        <h1 class="animate__animated animate__fadeIn"><i class="fas fa-building"></i> Department Management</h1>
        
        <div class="breadcrumb">
            <a href="../index.html"><i class="fas fa-home"></i> Documentation Home</a> &gt; 
            <a href="index.html"><i class="fas fa-file"></i> Pages</a> &gt; 
            <span><i class="fas fa-building"></i> Department Management</span>
        </div>
        
        <section class="section animate__animated animate__fadeInUp">
            <h2><i class="fas fa-info-circle"></i> Overview</h2>
            <div class="overview-card">
                <p>
                    <span class="emoji">🏢</span> The Department Management module is a core component of the Absence Management System, providing
                    interfaces for creating, organizing, and managing educational departments and their hierarchical structure.
                    This system allows administrators to effectively organize student data within appropriate departmental structures.
                </p>
                <div class="feature-chips">
                    <span class="chip"><i class="fas fa-sitemap"></i> Hierarchical Structure</span>
                    <span class="chip"><i class="fas fa-plus-circle"></i> Department Creation</span>
                    <span class="chip"><i class="fas fa-edit"></i> Edit Capabilities</span>
                    <span class="chip"><i class="fas fa-users"></i> Student Assignment</span>
                    <span class="chip"><i class="fas fa-th-list"></i> Listing & Filtering</span>
                </div>
            </div>
        </section>

        <section class="section animate__animated animate__fadeInUp" style="animation-delay: 0.2s;">
            <h2><i class="fas fa-puzzle-piece"></i> Key Components</h2>
            
            <div class="subsection feature-card">
                <div class="feature-icon">
                    <i class="fas fa-sitemap fa-2x"></i>
                </div>
                <div class="feature-content">
                    <h3><span class="emoji">🔄</span> Department Structure Management</h3>
                    <p>
                        The system provides a hierarchical structure for organizing departments, with the ability to create
                        parent-child relationships between departments. For example, a Faculty can contain multiple Departments,
                        which can contain multiple Classes.
                    </p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title"><i class="fab fa-java"></i> Department Entity</span>
                        </div>
                        <pre><code class="language-java">// Department Entity Model
@Entity
@Table(name = "departments")
public class Department {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    private String name;
    private String code;
    private String description;
    
    @ManyToOne
    @JoinColumn(name = "parent_id")
    private Department parent;
    
    @OneToMany(mappedBy = "parent", cascade = CascadeType.ALL)
    private List<Department> subdepartments = new ArrayList<>();
    
    @OneToMany(mappedBy = "department")
    private List<Student> students = new ArrayList<>();
    
    // Getters and setters
}</code></pre>
                    </div>
                </div>
            </div>
            
            <div class="subsection feature-card">
                <div class="feature-icon">
                    <i class="fas fa-plus-circle fa-2x"></i>
                </div>
                <div class="feature-content">
                    <h3><span class="emoji">➕</span> Department Creation and Management</h3>
                    <p>
                        The system provides interfaces for administrators to create new departments, edit existing ones,
                        and manage the hierarchical structure. This includes assigning parent departments and managing subdepartments.
                    </p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title"><i class="fab fa-react"></i> DepartmentForm Component</span>
                        </div>
                        <pre><code class="language-jsx">// React component for department creation/editing
import React, { useState, useEffect } from 'react';
import { Form, Button, Input, Select } from "@/components/ui";
import { departmentService } from "@/services/departmentService";

const DepartmentForm = ({ initialData, onSubmit }) => {
    const [formData, setFormData] = useState(initialData || {
        name: '',
        code: '',
        description: '',
        parentId: null
    });
    const [parentOptions, setParentOptions] = useState([]);
    
    // Load potential parent departments
    useEffect(() => {
        const loadDepartments = async () => {
            const result = await departmentService.getAllDepartments();
            // Filter out the current department if editing
            const filteredOptions = initialData
                ? result.data.filter(dept => dept.id !== initialData.id)
                : result.data;
            setParentOptions(filteredOptions);
        };
        loadDepartments();
    }, [initialData]);
    
    const handleSubmit = async (e) => {
        e.preventDefault();
        await onSubmit(formData);
    };
    
    // Form JSX
    return (
        <Form onSubmit={handleSubmit}>
            {/* Form fields */}
        </Form>
    );
};</code></pre>
                    </div>
                </div>
            </div>

            <div class="department-structure">
                <h3><span class="emoji">🏗️</span> Department Hierarchy Example</h3>
                <div class="structure-diagram">
                    <div class="hierarchy">
                        <div class="hierarchy-level">
                            <div class="hierarchy-item">University</div>
                        </div>
                        <div class="hierarchy-level">
                            <div class="hierarchy-item">Faculty of Science</div>
                            <div class="hierarchy-item">Faculty of Arts</div>
                            <div class="hierarchy-item">Faculty of Engineering</div>
                        </div>
                        <div class="hierarchy-level">
                            <div class="hierarchy-item">Computer Science Dept.</div>
                            <div class="hierarchy-item">Mathematics Dept.</div>
                            <div class="hierarchy-item">Literature Dept.</div>
                            <div class="hierarchy-item">Civil Engineering Dept.</div>
                        </div>
                        <div class="hierarchy-level">
                            <div class="hierarchy-item">CS Year 1</div>
                            <div class="hierarchy-item">CS Year 2</div>
                            <div class="hierarchy-item">Math Year 1</div>
                            <div class="hierarchy-item">CE Year 1</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="subsection feature-card">
                <div class="feature-icon">
                    <i class="fas fa-users fa-2x"></i>
                </div>
                <div class="feature-content">
                    <h3><span class="emoji">👥</span> Student Assignment and Management</h3>
                    <p>
                        The Department Management module allows administrators to assign students to departments and
                        manage these assignments. This is crucial for proper organization of attendance and absence records.
                    </p>
                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-title"><i class="fab fa-js"></i> Department Service</span>
                        </div>
                        <pre><code class="language-javascript">// Department Service for API interactions
import axiosInstance from '@/lib/axiosInstance';

const departmentService = {
    // Get all departments
    getAllDepartments: () => {
        return axiosInstance.get('/departments');
    },
    
    // Get department by ID
    getDepartmentById: (id) => {
        return axiosInstance.get(`/departments/${id}`);
    },
    
    // Create new department
    createDepartment: (departmentData) => {
        return axiosInstance.post('/departments', departmentData);
    },
    
    // Update department
    updateDepartment: (id, departmentData) => {
        return axiosInstance.put(`/departments/${id}`, departmentData);
    },
    
    // Delete department
    deleteDepartment: (id) => {
        return axiosInstance.delete(`/departments/${id}`);
    },
    
    // Get students in department
    getStudentsByDepartment: (departmentId) => {
        return axiosInstance.get(`/departments/${departmentId}/students`);
    },
    
    // Assign student to department
    assignStudentToDepartment: (departmentId, studentId) => {
        return axiosInstance.post(`/departments/${departmentId}/students/${studentId}`);
    },
    
    // Remove student from department
    removeStudentFromDepartment: (departmentId, studentId) => {
        return axiosInstance.delete(`/departments/${departmentId}/students/${studentId}`);
    }
};

export { departmentService };</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section animate__animated animate__fadeInUp" style="animation-delay: 0.4s;">
            <h2><i class="fas fa-list"></i> Department Listing and Management</h2>
            <p>
                The system provides comprehensive listing and management interfaces for departments:
            </p>
            
            <div class="departments-grid">
                <div class="department-card">
                    <div class="department-icon"><i class="fas fa-plus"></i></div>
                    <div class="department-name">Creation</div>
                    <div class="department-description">Create new departments with customized properties and parent relationships</div>
                </div>
                
                <div class="department-card">
                    <div class="department-icon"><i class="fas fa-edit"></i></div>
                    <div class="department-name">Editing</div>
                    <div class="department-description">Modify existing departments, including name, code, and hierarchy</div>
                </div>
                
                <div class="department-card">
                    <div class="department-icon"><i class="fas fa-trash-alt"></i></div>
                    <div class="department-name">Deletion</div>
                    <div class="department-description">Remove departments with proper cascading and dependency handling</div>
                </div>
                
                <div class="department-card">
                    <div class="department-icon"><i class="fas fa-search"></i></div>
                    <div class="department-name">Search</div>
                    <div class="department-description">Find departments using filters and search criteria</div>
                </div>
                
                <div class="department-card">
                    <div class="department-icon"><i class="fas fa-th-list"></i></div>
                    <div class="department-name">Listing</div>
                    <div class="department-description">View departments in hierarchical or flat list formats</div>
                </div>
                
                <div class="department-card">
                    <div class="department-icon"><i class="fas fa-user-plus"></i></div>
                    <div class="department-name">Student Assignment</div>
                    <div class="department-description">Assign or remove students from departments</div>
                </div>
            </div>
        </section>

        <section class="section animate__animated animate__fadeInUp" style="animation-delay: 0.6s;">
            <h2><i class="fas fa-cogs"></i> Implementation Details</h2>
            <p>
                The Department Management feature is implemented using the following technologies and patterns:
            </p>
            
            <div class="tech-cards">
                <div class="tech-card">
                    <div class="tech-icon"><i class="fab fa-react fa-2x"></i></div>
                    <div class="tech-details">
                        <h3>React.js</h3>
                        <p>Used for building the UI components and managing component state</p>
                    </div>
                </div>
                
                <div class="tech-card">
                    <div class="tech-icon"><i class="fas fa-database fa-2x"></i></div>
                    <div class="tech-details">
                        <h3>JPA/Hibernate</h3>
                        <p>For database entity relationships and persistence</p>
                    </div>
                </div>
                
                <div class="tech-card">
                    <div class="tech-icon"><i class="fas fa-server fa-2x"></i></div>
                    <div class="tech-details">
                        <h3>Spring Boot</h3>
                        <p>Backend framework for creating RESTful APIs</p>
                    </div>
                </div>
                
                <div class="tech-card">
                    <div class="tech-icon"><i class="fas fa-layer-group fa-2x"></i></div>
                    <div class="tech-details">
                        <h3>Tree Structure</h3>
                        <p>Recursive data structure for managing hierarchies</p>
                    </div>
                </div>
            </div>
        </section>
        
        <div class="back-section">
            <a href="index.html" class="back-button"><i class="fas fa-arrow-left"></i> Back to Pages</a>
        </div>
    </div>
</body>
</html>
